@using SSEcommerceWebApp.Enums
@model SSEcommerceWebApp.Models.ApplicationUser
@{
    ViewData["Title"] = "Register";
    Layout = null;
}

<style>
    body {
        font-size: .2rem;
    }

    /* Chrome, Safari, Edge, Opera */
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    /* Firefox */
    input[type=number] {
        -moz-appearance: textfield;
    }
</style>
<title>@ViewBag.Title</title>

<link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" integrity="sha384-tKLJeE1ALTUwtXlaGjJYM3sejfssWdAaWR2s97axw4xkiAdMzQjtOjgcyw0Y50KU" crossorigin="anonymous">
<link rel="stylesheet" href="~/css/site.css" />
<script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>

<div id="MessageDiv">
    @if (ViewBag.SuccessMessaage != null)
    {
        <div id="successMessageDiv" class="alert alert-success text-center">@ViewBag.SuccessMessaage</div>
    }
    @if (ViewBag.ErrorMessage != null)
    {
        <div id="errorMessageDiv" class="alert alert-danger text-center">@ViewBag.ErrorMessage</div>
    }
</div>

<div class="container card border-bottom-primary shadow-lg p-3 mb-5 mt-5 bg-body rounded-3 w-50 p-3">
    <form class="row" enctype="multipart/form-data" method="post">
        <div class="col-md-12">
            <p class="text-center font-weight-bold">
                “Sign up to create an admin account!”
            </p>
        </div>
        <div class="col-md-12">
            <p class="font-weight-bold">
                Basic Info
            </p>
        </div>
        <div class="col-md-12">
            <label asp-for="FirstName" class="form-label">First Name <span class="text-danger">*</span></label>
            <input asp-for="FirstName" type="text" class="form-control h-25 p-3" placeholder="First Name" required />
            <span asp-validation-for="FirstName" class="text-danger"></span>
        </div>
        <div class="col-md-12">
            <label asp-for="LastName" class="form-label">Last Name <span class="text-danger">*</span></label>
            <input asp-for="LastName" type="text" class="form-control h-25 p-3" placeholder="Last Name" required />
            <span asp-validation-for="LastName" class="text-danger"></span>
        </div>
        <div class="col-md-12">
            <p class="font-weight-bold">
                Contact Info
            </p>
        </div>
        <div class="col-md-12">
            <label asp-for="PhoneNumber" class="form-label">Contact Number <span class="text-danger">*</span></label>
            <input asp-for="PhoneNumber" type="number" class="form-control h-25 p-3" placeholder="Contact Number" required />
            <span asp-validation-for="PhoneNumber" class="text-danger"></span>
        </div>
        <div class="col-md-12">
            <label asp-for="UserImage">User Image </label>
            <input asp-for="UserImage" type="file" class="form-control-file form-control" onchange="loadMenuFile(event)">
        </div>
        <div class="col-md-12 mt-3">
            <button class="btn btn-success float-right" type="submit">Sign Up</button>
        </div>
    </form>
</div>



@section Scripts
{
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
    <script>
        $(document).ready(function () {

            //$('.custom-file-input').on("change", function () {
            //        var fileName = $(this).val().split("\\").pop();
            //        if (fileName.length > 20) {
            //            fileName = fileName.substring(0, 20) + "...";
            //        }
            //        $(this).next('.custom-file-label').html(fileName);
            //    }
            //);

            //$('.custom-file-input').on("change", function () {
            //        var fileName = $(this).val().split("\\").pop();
            //        if (fileName.length > 20) {
            //            fileName = fileName.substring(0, 20) + "...";
            //        }
            //        $(this).next('.custom-file-label').html(fileName);
            //    }
            //);
        });

        function ToggleShowHide() {
            var success = $("#successMessageDiv").html();
            var error = $("#errorMessageDiv").html();

            if (!(success == '' || error == '')) {
                setTimeout(function () {
                        $("#MessageDiv").toggle("hide");
                    },
                    3000);
            }
        }

        //function loadNidFile(event) {
        //    var output = document.getElementById('nidOutput');
        //    output.src = URL.createObjectURL(event.target.files[0]);
        //};
        //function loadMenuFile(event) {
        //    var output = document.getElementById('menuOutput');
        //    output.src = URL.createObjectURL(event.target.files[0]);
        //};

        $(document).ready(function () {
            ToggleShowHide();

            $('.custom-file-input').on("change", function () {
                    var fileName = $(this).val().split("\\").pop();
                    if (fileName.length > 20) {
                        fileName = fileName.substring(0, 20) + "...";
                    }
                    $(this).next('.custom-file-label').html(fileName);
                }
            );
        });

        var loadFile = function (event) {
            var output = document.getElementById('output');
            output.src = URL.createObjectURL(event.target.files[0]);
        };
    </script>
}
